"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e=require("../customElements.js"),n=require("../useProfileElementSetup.js");const a=e.defineComponent({__name:"PasskeyTableView",props:{appId:{},appInfo:{},webauthnAllowed:{type:Boolean}},setup(a){const o=a,{userInfo:t,loading:r,refreshDevices:l}=n.useCurrentUser(o.appInfo);return(a,o)=>e.unref(r)?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(n._sfc_main,{key:0,appId:a.appId,userInfo:e.unref(t),refreshDevices:e.unref(l),webauthnAllowed:a.webauthnAllowed},null,8,["appId","userInfo","refreshDevices","webauthnAllowed"]))}}),o={key:1,class:"notification is-danger has-text-centered"},t=e.defineComponent({__name:"MainView",props:{appId:{}},setup(t){const r=t,{appInfo:l,loading:p,invalidAppId:u}=e.useAppInfo(r.appId),s=e.ref(!1),c=e.ref(!1);return e.watch(l,(()=>{return n=this,a=null,o=function*(){if(c.value=!1,void 0===l.value)return;const n=new e.Y(r.appId);n.checkWebauthnConfig(l.value)&&(s.value=(yield n.getCredentialAvailable()).platform),c.value=!0},new Promise(((e,t)=>{var r=e=>{try{p(o.next(e))}catch(n){t(n)}},l=e=>{try{p(o.throw(e))}catch(n){t(n)}},p=n=>n.done?e(n.value):Promise.resolve(n.value).then(r,l);p((o=o.apply(n,a)).next())}));var n,a,o})),(t,r)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.unref(p)||!c.value?(e.openBlock(),e.createBlock(n._sfc_main$1,{key:0,active:e.unref(p)||!c.value},null,8,["active"])):e.unref(u)?(e.openBlock(),e.createElementBlock("div",o," Passage-Profile Error: Invalid App ID. ")):e.createCommentVNode("",!0),e.unref(l)&&c.value?(e.openBlock(),e.createBlock(a,{key:2,appId:t.appId,appInfo:e.unref(l),webauthnAllowed:s.value},null,8,["appId","appInfo","webauthnAllowed"])):e.createCommentVNode("",!0)],64))}}),r=e.defineComponent({__name:"PasskeyTable.ce",props:{appId:{},lang:{},defaultCountryCode:{}},setup(a){const o=a,{languageLoading:r,containerRef:l}=n.useProfileElementSetup(o);return(n,a)=>{var o;return e.withDirectives((e.openBlock(),e.createElementBlock("div",{id:"passage-profile-container",ref_key:"containerRef",ref:l},[(e.openBlock(),e.createBlock(t,{key:n.appId,appId:null!=(o=n.appId)?o:""},null,8,["appId"]))],512)),[[e.vShow,!e.unref(r)]])}}});function l(){e.safelyRegisterElement(r,"passkey-table")}l(),exports.registerPassageLoginElement=l;
//# 
