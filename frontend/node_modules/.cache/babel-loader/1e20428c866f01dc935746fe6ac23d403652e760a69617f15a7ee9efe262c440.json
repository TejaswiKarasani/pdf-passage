{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nconst API_URL = \"http://localhost:7000\";\nexport function useAuthStatus() {\n  _s();\n  const [result, setResult] = useState({\n    isLoading: true,\n    isAuthorized: false,\n    username: \"\"\n  });\n  useEffect(() => {\n    let cancelRequest = false;\n    const authToken = localStorage.getItem(\"psg_auth_token\");\n    axios.post(`${API_URL}/auth`, null, {\n      headers: {\n        Authorization: `Bearer ${authToken}`\n      }\n    }).then(response => {\n      if (cancelRequest) {\n        return;\n      }\n      const {\n        authStatus,\n        identifier\n      } = response.data;\n      if (authStatus === \"success\") {\n        setResult({\n          isLoading: false,\n          isAuthorized: authStatus,\n          username: identifier\n        });\n      } else {\n        setResult({\n          isLoading: false,\n          isAuthorized: false,\n          username: \"\"\n        });\n      }\n    }).catch(err => {\n      console.log(err);\n      setResult({\n        isLoading: false,\n        isAuthorized: false,\n        username: \"\"\n      });\n    });\n    return () => {\n      cancelRequest = true;\n    };\n  }, []);\n  return result;\n}\n_s(useAuthStatus, \"pYZPoUCxgfmTlS9pKMYzcGsiPNA=\");","map":{"version":3,"names":["useState","useEffect","axios","API_URL","useAuthStatus","_s","result","setResult","isLoading","isAuthorized","username","cancelRequest","authToken","localStorage","getItem","post","headers","Authorization","then","response","authStatus","identifier","data","catch","err","console","log"],"sources":["/home/tejaswi/pdf-passage/frontend/src/hooks/useAuthStatus.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst API_URL = \"http://localhost:7000\";\n\nexport function useAuthStatus() {\n  const [result, setResult] = useState({\n    isLoading: true,\n    isAuthorized: false,\n    username: \"\",\n  });\n\n  useEffect(() => {\n    let cancelRequest = false;\n    const authToken = localStorage.getItem(\"psg_auth_token\");\n    axios\n      .post(`${API_URL}/auth`, null, {\n        headers: {\n          Authorization: `Bearer ${authToken}`,\n        },\n      })\n      .then((response) => {\n        if (cancelRequest) {\n          return;\n        }\n        const { authStatus, identifier } = response.data;\n        if (authStatus === \"success\") {\n          setResult({\n            isLoading: false,\n            isAuthorized: authStatus,\n            username: identifier,\n          });\n        } else {\n          setResult({\n            isLoading: false,\n            isAuthorized: false,\n            username: \"\",\n          });\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setResult({\n          isLoading: false,\n          isAuthorized: false,\n          username: \"\",\n        });\n      });\n    return () => {\n      cancelRequest = true;\n    };\n  }, []);\n  return result;\n}\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,uBAAuB;AAEvC,OAAO,SAASC,aAAaA,CAAA,EAAG;EAAAC,EAAA;EAC9B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAC;IACnCQ,SAAS,EAAE,IAAI;IACfC,YAAY,EAAE,KAAK;IACnBC,QAAQ,EAAE;EACZ,CAAC,CAAC;EAEFT,SAAS,CAAC,MAAM;IACd,IAAIU,aAAa,GAAG,KAAK;IACzB,MAAMC,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC;IACxDZ,KAAK,CACFa,IAAI,CAAE,GAAEZ,OAAQ,OAAM,EAAE,IAAI,EAAE;MAC7Ba,OAAO,EAAE;QACPC,aAAa,EAAG,UAASL,SAAU;MACrC;IACF,CAAC,CAAC,CACDM,IAAI,CAAEC,QAAQ,IAAK;MAClB,IAAIR,aAAa,EAAE;QACjB;MACF;MACA,MAAM;QAAES,UAAU;QAAEC;MAAW,CAAC,GAAGF,QAAQ,CAACG,IAAI;MAChD,IAAIF,UAAU,KAAK,SAAS,EAAE;QAC5Bb,SAAS,CAAC;UACRC,SAAS,EAAE,KAAK;UAChBC,YAAY,EAAEW,UAAU;UACxBV,QAAQ,EAAEW;QACZ,CAAC,CAAC;MACJ,CAAC,MAAM;QACLd,SAAS,CAAC;UACRC,SAAS,EAAE,KAAK;UAChBC,YAAY,EAAE,KAAK;UACnBC,QAAQ,EAAE;QACZ,CAAC,CAAC;MACJ;IACF,CAAC,CAAC,CACDa,KAAK,CAAEC,GAAG,IAAK;MACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChBjB,SAAS,CAAC;QACRC,SAAS,EAAE,KAAK;QAChBC,YAAY,EAAE,KAAK;QACnBC,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ,CAAC,CAAC;IACJ,OAAO,MAAM;MACXC,aAAa,GAAG,IAAI;IACtB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,OAAOL,MAAM;AACf;AAACD,EAAA,CAhDeD,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}